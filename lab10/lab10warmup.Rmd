---
title: "Warmup 10"
author: "Jasmine Hsiao"
date: "2024-02-15"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Load the libraries
```{r message=FALSE, warning=FALSE}
library(tidyverse)
library(janitor)
```

## Load the data
```{r}
malaria <- read.csv("data/malaria.csv") %>%  clean_names()
```

```{r}
head(malaria) #This shows that column names contain data so not tidy. 
```


# Make data tidy as new object
```{r}
malaria_long <- malaria  %>% 
  pivot_longer(cols=starts_with("malaria_rdt"),
               names_to = "age_class",
               values_to = "cases") %>% 
  select(data_date, submitted_date, location_name, district, age_class, cases)
```

## District with highest total number of cases on July 30, 2020
```{r}
malaria_long %>% 
  filter(data_date == "2020-07-30") %>% 
  group_by(district) %>% 
  summarize(tot_case=sum(cases, na.rm=T)) %>% 
  arrange(-tot_case)
```

